{"ast":null,"code":"import{useEffect}from'react';import{io}from'socket.io-client';import'./leafletFix';// this fixes default icon missing issue\nimport{jsx as _jsx}from\"react/jsx-runtime\";const socket=io('http://localhost:5000');const Driver=()=>{useEffect(()=>{const driverId='driver001';const sendLocation=position=>{const{latitude,longitude}=position.coords;socket.emit('driverLocation',{driverId,lat:latitude,lng:longitude});};const error=err=>console.error('Geolocation error',err);const watchId=navigator.geolocation.watchPosition(sendLocation,error,{enableHighAccuracy:true,maximumAge:10000,timeout:10000});return()=>navigator.geolocation.clearWatch(watchId);},[]);return/*#__PURE__*/_jsx(\"p\",{children:\"Sending live location...\"});};export default Driver;","map":{"version":3,"names":["useEffect","io","jsx","_jsx","socket","Driver","driverId","sendLocation","position","latitude","longitude","coords","emit","lat","lng","error","err","console","watchId","navigator","geolocation","watchPosition","enableHighAccuracy","maximumAge","timeout","clearWatch","children"],"sources":["C:/Users/SUBHRAJIT DHAR/realtime-delivery-tracking/client/user/src/Driver.js"],"sourcesContent":["import { useEffect } from 'react';\r\nimport { io } from 'socket.io-client';\r\nimport './leafletFix';  // this fixes default icon missing issue\r\n\r\nconst socket = io('http://localhost:5000');\r\n\r\nconst Driver = () => {\r\n  useEffect(() => {\r\n    const driverId = 'driver001';\r\n\r\n    const sendLocation = (position) => {\r\n      const { latitude, longitude } = position.coords;\r\n      socket.emit('driverLocation', {\r\n        driverId,\r\n        lat: latitude,\r\n        lng: longitude\r\n      });\r\n    };\r\n\r\n    const error = (err) => console.error('Geolocation error', err);\r\n\r\n    const watchId = navigator.geolocation.watchPosition(sendLocation, error, {\r\n      enableHighAccuracy: true,\r\n      maximumAge: 10000,\r\n      timeout: 10000\r\n    });\r\n\r\n    return () => navigator.geolocation.clearWatch(watchId);\r\n  }, []);\r\n\r\n  return <p>Sending live location...</p>;\r\n};\r\n\r\nexport default Driver;\r\n"],"mappings":"AAAA,OAASA,SAAS,KAAQ,OAAO,CACjC,OAASC,EAAE,KAAQ,kBAAkB,CACrC,MAAO,cAAc,CAAG;AAAA,OAAAC,GAAA,IAAAC,IAAA,yBAExB,KAAM,CAAAC,MAAM,CAAGH,EAAE,CAAC,uBAAuB,CAAC,CAE1C,KAAM,CAAAI,MAAM,CAAGA,CAAA,GAAM,CACnBL,SAAS,CAAC,IAAM,CACd,KAAM,CAAAM,QAAQ,CAAG,WAAW,CAE5B,KAAM,CAAAC,YAAY,CAAIC,QAAQ,EAAK,CACjC,KAAM,CAAEC,QAAQ,CAAEC,SAAU,CAAC,CAAGF,QAAQ,CAACG,MAAM,CAC/CP,MAAM,CAACQ,IAAI,CAAC,gBAAgB,CAAE,CAC5BN,QAAQ,CACRO,GAAG,CAAEJ,QAAQ,CACbK,GAAG,CAAEJ,SACP,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAK,KAAK,CAAIC,GAAG,EAAKC,OAAO,CAACF,KAAK,CAAC,mBAAmB,CAAEC,GAAG,CAAC,CAE9D,KAAM,CAAAE,OAAO,CAAGC,SAAS,CAACC,WAAW,CAACC,aAAa,CAACd,YAAY,CAAEQ,KAAK,CAAE,CACvEO,kBAAkB,CAAE,IAAI,CACxBC,UAAU,CAAE,KAAK,CACjBC,OAAO,CAAE,KACX,CAAC,CAAC,CAEF,MAAO,IAAML,SAAS,CAACC,WAAW,CAACK,UAAU,CAACP,OAAO,CAAC,CACxD,CAAC,CAAE,EAAE,CAAC,CAEN,mBAAOf,IAAA,MAAAuB,QAAA,CAAG,0BAAwB,CAAG,CAAC,CACxC,CAAC,CAED,cAAe,CAAArB,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}